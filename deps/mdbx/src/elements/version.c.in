/*
 * Copyright 2015-2019 Leonid Yuriev <leo@yuriev.ru>
 * and other libmdbx authors: please see AUTHORS file.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted only as authorized by the OpenLDAP
 * Public License.
 *
 * A copy of this license is available in the file LICENSE in the
 * top-level directory of the distribution or, alternatively, at
 * <http://www.OpenLDAP.org/license.html>.
 */

#include "elements/internals.h"

#if defined(_MSC_VER) && defined(MDBX_BUILD_TARGET)
#pragma message("Configuration-depended MDBX_BUILD_TARGET: " MDBX_BUILD_TARGET)
#endif
#if defined(_MSC_VER) && defined(MDBX_COMPILE_FLAGS)
#pragma message(                                                               \
    "Configuration-depended MDBX_COMPILE_FLAGS: " MDBX_COMPILE_FLAGS)
#endif

#if MDBX_VERSION_MAJOR != ${MDBX_VERSION_MAJOR} ||                             \
    MDBX_VERSION_MINOR != ${MDBX_VERSION_MINOR}
#error "API version mismatch! Had `git fetch --tags` done?"
#endif

/*LIBMDBX_API*/ const mdbx_version_info mdbx_version = {
    ${MDBX_VERSION_MAJOR},
    ${MDBX_VERSION_MINOR},
    ${MDBX_VERSION_RELEASE},
    ${MDBX_VERSION_REVISION},
    {"@MDBX_GIT_TIMESTAMP@", "@MDBX_GIT_TREE@", "@MDBX_GIT_COMMIT@",
     "@MDBX_GIT_DESCRIBE@"}};

/*LIBMDBX_API*/ const mdbx_build_info mdbx_build = {
    "@MDBX_BUILD_TIMESTAMP@",
    "${MDBX_BUILD_TARGET}"
#ifdef DMDBX_BUILD_CONFIG
    "-" DMDBX_BUILD_CONFIG
#endif
    ,
    "@MDBX_OPTIONS_STRING@", "@MDBX_BUILD_COMPILER@", "${MDBX_COMPILE_FLAGS}"};
